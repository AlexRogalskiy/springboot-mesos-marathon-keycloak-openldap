{
  "id": "keycloak",
  "cmd": null,
  "args": [],
  "networks": [
    {
      "mode": "container",
      "name": "springboot-mesos-marathon-keycloak-openldap_default"
    }
  ],
  "container": {
    "type": "DOCKER",
    "docker": {
      "image": "jboss/keycloak:4.8.1.Final",
      "portMappings": [
        {
          "containerPort": 8080,
          "hostPort": 0
        }
      ]
    }
  },
  "cpus": 0.2,
  "mem": 1024,
  "instances": 1,
  "env": {
    "KEYCLOAK_USER": "admin",
    "KEYCLOAK_PASSWORD": "admin",
    "DB_VENDOR": "mysql",
    "DB_ADDR": "mysql-keycloak",
    "JDBC_PARAMS": "useSSL=false"
  },
  "healthChecks": [
    {
      "protocol": "COMMAND",
      "command": {
        "value": "curl -sf --max-time 10 -o /dev/stdout http://localhost:8080/auth/"
      },
      "maxConsecutiveFailures": 3,
      "gracePeriodSeconds": 360,
      "intervalSeconds": 40
    }
  ]
}